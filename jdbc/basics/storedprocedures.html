<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    

<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Using Stored Procedures (The Java&trade; Tutorials &gt;        
            JDBC Database Access &gt; JDBC Basics)
</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
     <meta name="description" content="This JDBC Java tutorial describes how to use JDBC API to create, insert into, update, and query tables. You will also learn how to use simple and prepared statements, stored procedures and perform transactions" />
     <meta name="keywords" content="java programming, learn java, java sample code, jdbc, prepared statement, result set" />
        
<style type="text/css">
    body {
        margin-left:10px;
        margin-right:10px;
        line-height: 1.5;
        FONT-FAMILY: Arial, Helvetica, sans-serif; 
        font-size: 0.8em;
    }
    
    a:link{text-decoration:none; color:#09569d;}
    a:visited{text-decoration:none; color: #3a87cf;}
    a:hover{text-decoration:underline; }
        
    code{
        font-family:Monaco,Courier,"Courier New";
    }
    
    .header-container {
        background-color: #fff;
        border-bottom: 1px solid #C1CFDA;
        -webkit-box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
        box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
    }
    
    .bookwrapper {
        width: auto;
        margin: auto;
    }
    
    .clearfix {
    }
    
    .clearfloat {
        clear: both;
        overflow: auto;
        height: 0px;
        font-size: 1px;
        line-height: 0px;
    }
    
    #brandProdName {
        width: auto;
        height: auto;
    }
    
    #logocover {
        display: block;
        background: transparent url(../../images/oracle-java-logo.png) 0px 0px no-repeat;
        height: 50px;
        width: 229px;
        float: left;
    }
    
    #productName {
        font-size: 16px;
        position: relative;
        top: 19px;
        padding-left: 3px;
        color: #457798;
        white-space: nowrap;
        width: 340px;
    }


    .FigureCaption   { 
        font-family: sans-serif; 
        text-align: center;
    }
    
    #TopBar_bl {        
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        margin-left: -110px;
        margin-right: -100px;       
		align: left;
        height: 60px;
    }
    #TopBar_tr {
        width: 100%;
        height: 60px;
    }
    
    #TopBar {
        min-width:700px;
        padding:25px 100px 10px;
        margin-bottom:25px;
        clear:both;
        
        border-bottom:1px solid #d2dde5;
        border-radius: 3px;
    
        background:#efefef; /* Old browsers */
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlMmVmZjkiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
        background: -moz-linear-gradient(top,  #ffffff 0%, #e2eff9 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e2eff9)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* IE10+ */
        background: linear-gradient(to bottom,  #ffffff 0%,#e2eff9 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e2eff9',GradientType=0 ); /* IE6-8 */
        
    }
    
    #TopBar_left {
        line-height: 14px;
        position: absolute;
        padding-top: 30px;
        padding-right: 30px;
        padding-left: 30px;
        text-align: left;
        font: 13px/20px Arial, Helvetica, sans-serif;
        font-weight: bold;
        font-size: 20px;
        color: #333;
    }
    
    #TopBar_right {
        line-height: 12px;
        float: right;
        padding-top: 10px;
        padding-right: 30px;
        text-align: left;
    }
    

    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    
     
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 10px;
        margin: 3px;
        padding: 0;
    }
 
    #BreadCrumbs {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    
    #BreadCrumbs a {
        color:#09569d;
    }
    
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }
    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    
    .LeftBar_shown {
        width: 13em;
        float: left;
    }
    
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    
    .LeftBar_hidden {
        display: none;
    }
    
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;       
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }

    .NavBit  {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    
    @media print {
        .NavBit {
            display: none;
        }
    }
    
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    
    #Contents a, .NavBit a, #TagNotes a {
        color:#09569d;
    }
    
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em;
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #333;
		
		
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
	
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #333;
        
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
		font-size:12px;
		font-family:Monaco,Courier,"Courier New";
    }
    
    .tocli {
        list-style-type:none;
    }

    .betadraft {
        color: red;
    }

</style>
<script type="text/javascript">
/* <![CDATA[ */
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }

    function showCode(displayCodePage, codePath) {
        var codePathEls = codePath.split("/");
        var currDocPathEls = location.href.split("/");
        //alert ("codePathEls = " + codePathEls + "\n" + "currDocPathEls = " + currDocPathEls);
        currDocPathEls.pop(); // remove file name at the end
        while (codePathEls.length > 0) {
            if (codePathEls[0] == "..") {
                codePathEls.shift();
                currDocPathEls.pop();
            } else {
                break;
            }
        }
        var fullCodePath = currDocPathEls.join("/") + "/" + codePathEls.join("/");
        //alert ("fullCodePath = " + fullCodePath );
        if (codePath.indexOf(".java") != -1 || codePath.indexOf(".jnlp") != -1) {
            window.location.href = displayCodePage + "?code=" + encodeURI(fullCodePath);
        } else {
            window.location.href = fullCodePath;
        }
    }
/* ]]> */    
</script>


    </head>
<body onload="load()">
    <noscript>
        A browser with JavaScript enabled is required for this page to operate properly.
    </noscript>
        <!-- header -->
    <div class="header-container">
        <div class="bookwrapper  clearfix">       
            <div id="brandProdName">
                <div id="logocover"></div>
                <div id="productName" >Documentation</div>
            </div> 
            <br class="clearfloat" />
        </div>
    </div>
    
    <div id="TopBar">
        <div id="TopBar_tr">
            <div id="TopBar_tl">
                <div id="TopBar_br"> <div id="TopBar_bl"> 
                    <div id="TopBar_left">The Java&trade; Tutorials</div>
                        <div id="TopBar_right"> 
                            <!--
                            <a href="URL" target="_blank">External Link</a><br/>
                            -->

<script type="text/javascript">function search() { var sform = document.getElementById("searchForm"); var srchelem = document.getElementById("searchField"); var srchelemreal = document.getElementById("keywordreal"); var srchval = srchelem.value; if (srchval.length == 0) { return false; } srchelemreal.value = srchval; sform.action = "http://docs.oracle.com/apps/search/search.jsp"; sform.method = "get"; sform.target = "_blank"; sform.submit(); }</script><form id="searchForm" onsubmit="return search()"><input type="hidden" name="category" value="java"/><input type="hidden" name="product" value="e25407-01"/><input type="hidden" name="q" value="" id="keywordreal"/><label for="searchField"><input type="text" id="searchField" size="30" onclick="this.value='';" /></label><input type="submit" value="Search" /></form>
              
                            <a href="javascript:toggleLeft()" id="ToggleLeft">Hide TOC</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="LeftBar" class="LeftBar_shown">
        <div id="Contents">
            <div class="linkLESSON"><a href="index.html">JDBC Basics</a></div>
<div class="linkAHEAD"><a href="gettingstarted.html">Getting Started</a></div>
<div class="linkAHEAD"><a href="processingsqlstatements.html">Processing SQL Statements with JDBC</a></div>
<div class="linkAHEAD"><a href="connecting.html">Establishing a Connection</a></div>
<div class="linkAHEAD"><a href="sqldatasources.html">Connecting with DataSource Objects</a></div>
<div class="linkAHEAD"><a href="sqlexception.html">Handling SQLExceptions</a></div>
<div class="linkAHEAD"><a href="tables.html">Setting Up Tables</a></div>
<div class="linkAHEAD"><a href="retrieving.html">Retrieving and Modifying Values from Result Sets</a></div>
<div class="linkAHEAD"><a href="prepared.html">Using Prepared Statements</a></div>
<div class="linkAHEAD"><a href="transactions.html">Using Transactions</a></div>
<div class="linkAHEAD"><a href="rowset.html">Using RowSet Objects</a></div>
<div class="linkAHEAD"><a href="jdbcrowset.html">Using JdbcRowSet Objects</a></div>
<div class="linkAHEAD"><a href="cachedrowset.html">Using CachedRowSetObjects</a></div>
<div class="linkAHEAD"><a href="joinrowset.html">Using JoinRowSet Objects</a></div>
<div class="linkAHEAD"><a href="filteredrowset.html">Using FilteredRowSet Objects</a></div>
<div class="linkAHEAD"><a href="webrowset.html">Using WebRowSet Objects</a></div>
<div class="linkAHEAD"><a href="sqltypes.html">Using Advanced Data Types</a></div>
<div class="linkAHEAD"><a href="blob.html">Using Large Objects</a></div>
<div class="linkAHEAD"><a href="sqlxml.html">Using SQLXML Objects</a></div>
<div class="linkAHEAD"><a href="array.html">Using Array Objects</a></div>
<div class="linkAHEAD"><a href="distinct.html">Using DISTINCT Data Type</a></div>
<div class="linkAHEAD"><a href="sqlstructured.html">Using Structured Objects</a></div>
<div class="linkAHEAD"><a href="sqlcustommapping.html">Using Customized Type Mappings</a></div>
<div class="linkAHEAD"><a href="sqldatalink.html">Using Datalink Objects</a></div>
<div class="linkAHEAD"><a href="sqlrowid.html">Using RowId Objects</a></div>
<div class="nolinkAHEAD">Using Stored Procedures</div>
<div class="linkAHEAD"><a href="jdbcswing.html">Using JDBC with GUI API</a></div>
</div>
    </div>
    <div id="MainFlow" class="MainFlow_indented">
    <div class="PrintHeaders">
        <b>Trail:</b> JDBC Database Access
        <br /><b>Lesson:</b> JDBC Basics
    </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Home Page</a>
                &gt;
                <a href="../index.html" target="_top">JDBC Database Access</a>
                &gt;
                <a href="index.html" target="_top">JDBC Basics</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="sqlrowid.html">&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target="_top" href="../TOC.html">Trail</a>&nbsp;&bull;&nbsp;<a target="_top" href="jdbcswing.html">Next&nbsp;&raquo;</a>
            </div>
            <div class="Banner"><p style="background-color: rgb(247, 248, 249); border-width: 1px; padding: 10px; font-style: italic; border-style: solid; border-color: rgb(64, 74, 91);">The Java Tutorials have been written for JDK 8. Examples and practices described in this page don't take advantage of improvements introduced in later releases and might use technology no longer available.<br/>See <a href="https://docs.oracle.com/pls/topic/lookup?ctx=en/java/javase&id=java_language_changes">Java Language Changes</a> for a summary of updated language features in Java SE 9 and subsequent releases.<br/>See <a href="https://www.oracle.com/technetwork/java/javase/jdk-relnotes-index-2162236.html">JDK Release Notes</a> for information about new features, enhancements, and removed or deprecated options for all JDK releases.</p></div>
            <div id="PageTitle"><h1>Using Stored Procedures</h1></div>
            <div id="PageContent">

<p>A stored procedure is a group of SQL statements that form a logical unit and perform a particular task, and they are used to encapsulate a set of operations or queries to execute on a database server. For example, operations on an employee database (hire, fire, promote, lookup) could be coded as stored procedures executed by application code. Stored procedures can be compiled and executed with different parameters and results, and they can have any combination of input, output, and input/output parameters.</p>
<p>Note that stored procedures are supported by most DBMSs, but there is a fair amount of variation in their syntax and capabilities. Consequently, the tutorial contains two classes, <code><a href="gettingstarted.html">StoredProcedureJavaDBSample</a></code> and <code><a href="gettingstarted.html">StoredProcedureMySQLSample</a></code> to demonstrate how to create stored procedures in Java DB and MySQL, respectively.</p>
<p>This page covers the following topics:</p>
<ul>
<li><a href="#overview_stored_procedures_examples">Overview of Stored Procedures Examples</a></li>
<li><a href="#parameter_modes">Parameter Modes</a></li>
<li><a href="#creating_stored_procedures_java_db">Creating Stored Procedures in Java DB</a>
<ul>
<li><a href="#creating_javadb_sql_jdbc">Creating Stored Procedures in Java DB with SQL Scripts or JDBC API</a></li>
<li><a href="#creating_stored_procedures_java_db">Creating Stored Procedures in Java DB</a></li>
<li><a href="#package_java_class_in_jar_file">Package Java Class in JAR File</a></li>
</ul>
</li>
<li><a href="#creating_stored_procedure_mysql">Creating Stored Procedure in MySQL</a>
<ul>
<li><a href="#create_jdbc_mysql">Creating Stored Procedure in MySQL with SQL Scripts or JDBC API</a></li>
</ul>
</li>
<li><a href="#calling_javadb_mysql">Calling Stored Procedures in Java DB and MySQL</a></li>
</ul>
<!-- *********************************** -->
<h2><a name="overview_stored_procedures_examples" id="overview_stored_procedures_examples">Overview of Stored Procedures Examples</a></h2>
<p>The examples <code><a href="gettingstarted.html">StoredProcedureJavaDBSample.java</a></code> and <code><a href="gettingstarted.html">StoredProcedureMySQLSample.java</a></code> create and call the following stored procedures:</p>
<ul>
<li>
<p><code>SHOW_SUPPLIERS</code>: Prints a result set that contains the names of coffee suppliers and the coffees they supply to The Coffee Break. This stored procedure does not require any parameters. When the example calls this stored procedure, the example produces output similar to the following:</p>
<div class="codeblock"><pre>
Acme, Inc.: Colombian_Decaf
Acme, Inc.: Colombian
Superior Coffee: French_Roast_Decaf
Superior Coffee: French_Roast
The High Ground: Espresso
</pre></div>
</li>
<li>
<p><code>GET_SUPPLIER_OF_COFFEE</code>: Prints the name of the supplier <code>supplierName</code> for the coffee <code>coffeeName</code>. It requires the following parameters:</p>
<ul>
<li><code>IN coffeeName varchar(32)</code>: The name of the coffee</li>
<li><code>OUT supplierName varchar(40)</code>: The name of the coffee supplier</li>
</ul>
<p>When the example calls this stored procedure with <code>Colombian</code> as the value for <code>coffeeName</code>, the example produces output similar to the following:</p>
<div class="codeblock"><pre>
Supplier of the coffee Colombian: Acme, Inc.
</pre></div>
</li>
<li>
<p><code>RAISE_PRICE</code>: Raises the price of the coffee <code>coffeeName</code> to the price <code>newPrice</code>. If the price increase is greater than the percentage <code>maximumPercentage</code>, then the price is raised by that percentage. This procedure will not change the price if the price <code>newPrice</code> is lower than the original price of the coffee. It requires the following parameters:</p>
<ul>
<li><code>IN coffeeName varchar(32)</code>: The name of the coffee</li>
<li><code>IN maximumPercentage float</code>: The maximum percentage to raise the coffee&#39;s price</li>
<li><code>INOUT newPrice numeric(10,2)</code>: The new price of the coffee. After the <code>RAISE_PRICE</code> stored procedure has been called, this parameter will contain the current price of the coffee <code>coffeeName</code>.</li>
</ul>
<p>When the example calls this stored procedure with <code>Colombian</code> as the value for <code>coffeeName</code>, <code>0.10</code> as the value for <code>maximumPercentage</code>, and <code>19.99</code> as the value for <code>newPrice</code>, the example produces output similar to the following:</p>
<div class="codeblock"><pre>
Contents of COFFEES table before calling RAISE_PRICE:
Colombian, 101, <strong>7.99</strong>, 0, 0
Colombian_Decaf, 101, 8.99, 0, 0
Espresso, 150, 9.99, 0, 0
French_Roast, 49, 8.99, 0, 0
French_Roast_Decaf, 49, 9.99, 0, 0

Calling the procedure RAISE_PRICE

Value of newPrice after calling RAISE_PRICE: <strong>8.79</strong>

Contents of COFFEES table after calling RAISE_PRICE:
Colombian, 101, <strong>8.79</strong>, 0, 0
Colombian_Decaf, 101, 8.99, 0, 0
Espresso, 150, 9.99, 0, 0
French_Roast, 49, 8.99, 0, 0
French_Roast_Decaf, 49, 9.99, 0, 0
</pre></div>
</li>
</ul>
<!-- *********************************** -->
<h2><a name="parameter_modes" id="parameter_modes">Parameter Modes</a></h2>
<p>The parameter attributes <code>IN</code> (the default), <code>OUT</code>, and <code>INOUT</code> are parameter modes. They define the action of formal parameters. The following table summarizes the information about parameter modes.</p>
<table summary="This table summarizes parameter modes." border="1">
<thead>
<tr>
<th id="h1">Characteristic of Parameter Mode</th>
<th id="h2">IN</th>
<th id="h3">OUT</th>
<th id="h4">INOUT</th>
</tr>
</thead>
<tbody>
<tr>
<td headers="h1">
<p>Must it be specified in the stored procedure definition?</p>
</td>
<td headers="h2">
<p>No; if omitted, then the parameter mode of the formal parameter is <code>IN</code>.</p>
</td>
<td headers="h3">
<p>Must be specified.</p>
</td>
<td headers="h4">
<p>Must be specified.</p>
</td>
</tr>
<tr>
<td headers="h1">
<p>Does the parameter pass a value to the stored procedure or return a value?</p>
</td>
<td headers="h2">
<p>Passes values to a stored procedure.</p>
</td>
<td headers="h3">
<p>Returns values to the caller.</p>
</td>
<td headers="h4">
<p>Both; passes initial values to a stored procedure; returns updated values to the caller.</p>
</td>
</tr>
<tr>
<td headers="h1">
<p>Does the formal parameter act as a constant or a variable in the stored procedure?</p>
</td>
<td headers="h2">
<p>Formal parameter acts like a constant.</p>
</td>
<td headers="h3">
<p>Formal parameter acts like an uninitialized variable.</p>
</td>
<td headers="h4">
<p>Formal parameter acts like an initialized variable.</p>
</td>
</tr>
<tr>
<td headers="h1">
<p>Can the formal parameter be assigned a value in the stored procedure?</p>
</td>
<td headers="h2">
<p>Formal parameter cannot be assigned a value.</p>
</td>
<td headers="h3">
<p>Formal parameter cannot be used in an expression; must be assigned a value.</p>
</td>
<td headers="h4">
<p>Formal parameter must be assigned a value.</p>
</td>
</tr>
<tr>
<td headers="h1">
<p>What kinds of actual parameters (arguments) can be passed to the stored procedure?</p>
</td>
<td headers="h2">
<p>Actual parameter can be a constant, initialized variable, literal, or expression.</p>
</td>
<td headers="h3">
<p>Actual parameter must be a variable.</p>
</td>
<td headers="h4">
<p>Actual parameter must be a variable.</p>
</td>
</tr>
</tbody>
</table>
<!-- *********************************** -->
<h2><a name="creating_stored_procedures_java_db" id="creating_stored_procedures_java_db">Creating Stored Procedures in Java DB</a></h2>
<p><strong>Note</strong>: See the section &quot;CREATE PROCEDURE statement&quot; in <a href="https://docs.oracle.com/javadb/index_jdk8.html"><em>Java DB Reference Manual</em></a> for more information about creating stored procedures in Java DB.</p>
<p>Creating and using a stored procedure in Java DB involves the following steps:</p>
<ol>
<li><a href="#creating_public_static_java_method">Create a public static Java method in a Java class</a>: This method performs the required task of the stored procedure.</li>
<li><a href="#creating_javadb_sql_jdbc">Create the stored procedure</a>: This stored procedure calls the Java method you created.</li>
<li><a href="#package_java_class_in_jar_file">Package the Java class (that contains the public static Java method you created earlier) in a JAR file.</a></li>
<li>Call the stored procedure with the <code>CALL</code> SQL statement. See the section <a href="#calling_javadb_mysql">Calling Stored Procedures in Java DB and MySQL</a>.</li>
</ol>
<!-- ====================================== -->
<h3><a name="creating_public_static_java_method" id="creating_public_static_java_method">Creating Public Static Java Method</a></h3>
<p>The following method, <code><a href="gettingstarted.html">StoredProcedureJavaDBSample.showSuppliers</a></code>, contains the SQL statements that the stored procedure <code>SHOW_SUPPLIERS</code> calls:</p>
<div class="codeblock"><pre>
public static void showSuppliers(ResultSet[] rs)
    throws SQLException {

    Connection con = DriverManager.getConnection("jdbc:default:connection");
    Statement stmt = null;

    String query =
        "select SUPPLIERS.SUP_NAME, " +
        "COFFEES.COF_NAME " +
        "from SUPPLIERS, COFFEES " +
        "where SUPPLIERS.SUP_ID = " +
        "COFFEES.SUP_ID " +
        "order by SUP_NAME";

    stmt = con.createStatement();
    rs[0] = stmt.executeQuery(query);
}
</pre></div>
<p>The <code>SHOW_SUPPLIERS</code> stored procedure takes no arguments. You can specify arguments in a stored procedure by defining them in the method signature of your public static Java method. Note that the method <code>showSuppliers</code> contains a parameter of type <code>ResultSet[]</code>. If your stored procedure returns any number of <code>ResultSet</code> objects, specify one parameter of type <code>ResultSet[]</code> in your Java method. In addition, ensure that this Java method is public and static.</p>
<p>Retrieve the <code>Connection</code> object from the URL <code>jdbc:default:connection</code>. This is a convention in Java DB to indicate that the stored procedure will use the currently existing <code>Connection</code> object.</p>
<p>Note that the <code>Statement</code> object is not closed in this method. Do not close any <code>Statement</code> objects in the Java method of your stored procedure; if you do so, the <code>ResultSet</code> object will not exist when you issue the <code>CALL</code> statement when you call your stored procedure.</p>
<p>In order for the stored procedure to return a generated result set, you must assign the result set to an array component of the <code>ResultSet[]</code> parameter. In this example, the generated result set is assigned to the array component <code>rs[0]</code>.</p>
<p>The following method is <code><a href="gettingstarted.html">StoredProcedureJavaDBSample.showSuppliers</a></code>:</p>
<div class="codeblock"><pre>
public static void getSupplierOfCoffee(String coffeeName, String[] supplierName)
    throws SQLException {

    Connection con = DriverManager.getConnection("jdbc:default:connection");
    PreparedStatement pstmt = null;
    ResultSet rs = null;

    String query =
        "select SUPPLIERS.SUP_NAME " +
        "from SUPPLIERS, COFFEES " +
        "where " +
        "SUPPLIERS.SUP_ID = COFFEES.SUP_ID " +
        "and ? = COFFEES.COF_NAME";

    pstmt = con.prepareStatement(query);
    pstmt.setString(1, coffeeName);
    rs = pstmt.executeQuery();

    if (rs.next()) {
        supplierName[0] = rs.getString(1);
    } else {
        supplierName[0] = null;
    }
}
</pre></div>
<p>The formal parameter <code>coffeeName</code> has the parameter mode <code>IN</code>. This formal parameter is used like any other parameter in a Java method. Because the formal parameter <code>supplierName</code> has the parameter mode <code>OUT</code>, it must use a one dimensional array data type. Because this method does not produce a result set, the method definition does not contain a parameter of type <code>ResultSet[]</code>. In order to retrieve a value from an <code>OUT</code> formal parameter, you must assign the value to be retrieved to an array component of the <code>OUT</code> formal parameter. In this example, the retrieved name of the coffee supplier is assigned to the array component <code>supplierName[0]</code>.</p>
<p>The following is the method signature of the <code><a href="gettingstarted.html">StoredProcedureJavaDBSample.raisePrice</a> method:</code></p>
<div class="codeblock"><pre>
public static void raisePrice(
   String coffeeName, double maximumPercentage,
   BigDecimal[] newPrice) throws SQLException
</pre></div>
<p>Because the formal parameter <code>newPrice</code> has the parameter mode <code>INOUT</code>, it must use a one dimensional array data type. Java DB maps the <code>FLOAT</code> and <code>NUMERIC</code> SQL data types to the <code>double</code> and <code>java.math.BigDecimal</code> Java data types, respectively.</p>
<!-- ====================================== -->
<h3><a name="creating_javadb_sql_jdbc" id="creating_javadb_sql_jdbc">Creating Stored Procedures in Java DB with SQL Scripts or JDBC API</a></h3>
<p>Java DB uses the Java programming language for its stored procedures. Consequently, when you define a stored procedure, you specify which Java class to call and where Java DB can find it.</p>
<p>The following excerpt from <code><a href="gettingstarted.html">StoredProcedureJavaDBSample.createProcedures</a></code> creates a stored procedure named <code>SHOW_SUPPLIERS</code>:</p>
<div class="codeblock"><pre>
public void createProcedures(Connection con)
    throws SQLException {

    Statement stmtCreateShowSuppliers = null;

    // ...

    String queryShowSuppliers =
        "CREATE PROCEDURE SHOW_SUPPLIERS() " +
        "PARAMETER STYLE JAVA " +
        "LANGUAGE JAVA " +
        "DYNAMIC RESULT SETS 1 " +
        "EXTERNAL NAME " +
        "'com.oracle.tutorial.jdbc." +
        "StoredProcedureJavaDBSample." +
        "showSuppliers'";

    // ...

    try {
        System.out.println("Calling CREATE PROCEDURE");
        stmtCreateShowSuppliers = con.createStatement();

        // ...

    } catch (SQLException e) {
        JDBCTutorialUtilities.printSQLException(e);
    } finally {
        if (stmtCreateShowSuppliers != null) {
            stmtCreateShowSuppliers.close();
        }
        // ...
    }
}
</pre></div>
<p>The following list describes the procedure elements you can specify in the <code>CREATE PROCEDURE</code> statement:</p>
<ul>
<li><code>PARAMETER STYLE</code>: Identifies the convention used to pass parameters to the stored procedure. The following options are valid:
<ul>
<li><code>JAVA</code>: Specifies that the stored procedure uses a parameter-passing convention that conforms to the Java language and the SQL routines specification.</li>
<li><code>DERBY</code>: Specifies that the stored procedure supports a vararg as the final argument in the parameter list.</li>
</ul>
</li>
<li><code>LANGUAGE JAVA</code>: Specifies the programming language of the stored procedure (currently, <code>JAVA</code> is the only option).</li>
<li><code>DYNAMIC RESULT SETS 1</code>: Specifies the maximum number of result sets retrieved; in this case, it is <code>1</code>.</li>
<li><code>EXTERNAL NAME &#39;com.oracle.tutorial.jdbc.StoredProcedureJavaDBSample.showSuppliers&#39;</code> specifies the fully qualified Java method that this stored procedure calls. <strong>Note</strong>: Java DB must be able to find the method specified here in your class path or in a JAR file directly added to the database. See the following step, <a href="#package_java_class_in_jar_file">Package Java Class in JAR File</a>.</li>
</ul>
<p>The following statement (which is found in <code><a href="gettingstarted.html">StoredProcedureJavaDBSample.createProcedures</a></code>)
creates a stored procedure named <code>GET_SUPPLIERS_OF_COFFEE</code> (line breaks have been added for clarity):</p>
<div class="codeblock"><pre>
CREATE PROCEDURE GET_SUPPLIER_OF_COFFEE(
    IN coffeeName varchar(32),
    OUT supplierName
    varchar(40))
    PARAMETER STYLE JAVA
    LANGUAGE JAVA
    DYNAMIC RESULT SETS 0
    EXTERNAL NAME 'com.oracle.tutorial.jdbc.
        StoredProcedureJavaDBSample.
        getSupplierOfCoffee'
</pre></div>
<p>This stored procedure has two formal parameters, <code>coffeeName</code> and <code>supplierName</code>. The parameter specifiers <code>IN</code> and <code>OUT</code> are called parameter modes. They define the action of formal parameters. See <a href="#parameter_modes">Parameter Modes</a> for more information. This stored procedure does not retrieve a result set, so the procedure element <code>DYNAMIC RESULT SETS</code> is <code>0</code>.</p>
<p>The following statement creates a stored procedure named <code>RAISE_PRICE</code> (line breaks have been added for clarity):</p>
<div class="codeblock"><pre>
CREATE PROCEDURE RAISE_PRICE(
    IN coffeeName varchar(32),
    IN maximumPercentage float,
    INOUT newPrice float)
    PARAMETER STYLE JAVA
    LANGUAGE JAVA
    DYNAMIC RESULT SETS 0
    EXTERNAL NAME 'com.oracle.tutorial.jdbc.
        StoredProcedureJavaDBSample.raisePrice'
</pre></div>
<p>You can use SQL scripts to create stored procedures in Java DB. See the script <code><a href="gettingstarted.html">javadb/create-procedures.sql</a></code> and the Ant target <code>javadb-create-procedure</code> in the <code><a href="gettingstarted.html">build.xml</a></code> Ant build script.</p>
<!-- ====================================== -->
<h3><a name="package_java_class_in_jar_file" id="package_java_class_in_jar_file">Package Java Class in JAR File</a></h3>

<p>The Ant build script <code><a href="gettingstarted.html">build.xml</a></code> contains targets to compile and package the tutorial in a JAR file. At a command prompt, change the current directory to <code><em>&lt;JDBC tutorial directory&gt;</em></code>. From this directory, run the following command to compile and package the tutorial in a JAR file:</p>

<p><code>ant jar</code></p>

<p>The name of the JAR file is <code><em>&lt;JDBC tutorial directory&gt;</em>/lib/JDBCTutorial.jar</code>.</p>

<p>The Ant build script adds the file <code>JDBCTutorial.jar</code> to the class path. You can also specify the location of the JAR file in your <code>CLASSPATH</code> environment variable. This enables Java DB to find the Java method that the stored procedure calls.</p>

<h4>Adding JAR File Directly to Database</h4>

<p>Java DB looks first in your class path for any required classes, and then in the database. This section shows you how to add JAR files directly to the database.</p>

<p>Use the following system procedures to add the <code>JDBCTutorial.jar</code> JAR file to the database (line breaks have been added for clarity):</p>

<div class="codeblock"><pre>
CALL sqlj.install_jar(
  '<em>&lt;JDBC tutorial directory&gt;</em>/
  lib/JDBCTutorial.jar',
  'APP.JDBCTutorial', 0)
CALL sqlj.replace_jar(
  '<em>&lt;JDBC tutorial directory&gt;</em>/
  lib/JDBCTutorial.jar',
  'APP.JDBCTutorial')";
CALL syscs_util.syscs_set_database_property(
  'derby.database.classpath',
  'APP.JDBCTutorial')";
</pre></div>

<p><strong>Note</strong>: The method <a href="gettingstarted.html"><code>StoredProcedureJavaDBSample.registerJarFile</code></a> demonstrates how to call these system procedures. If you call this method, ensure that you have modified <code><a href="gettingstarted.html">javadb-sample-properties.xml</a></code> so that the value of the property <code>jar_file</code> is set to the full path name of <code>JDBCTutorial.jar</code>.</p>

<p>The <code>install_jar</code> procedure in the <code>SQL</code> schema adds a JAR file to the database. The first argument of this procedure is the full path name of the JAR file on the computer from which this procedure is run. The second argument is an identifier that Java DB uses to refer to the JAR file. (The identifier <code>APP</code> is the Java DB default schema.) The <code>replace_jar</code> procedure replaces a JAR file already in the database.</p>

<p>The system procedure <code>SYSCS_UTIL.SYSCS_SET_DATABASE_PROPERTY</code> sets or deletes the value of a property of the database on the current connection. This method sets the property <code>derby.database.classpath</code> to the identifier specified in the <code>install_jar</code> file. Java DB first looks in your Java class path for a class, then it looks in <code>derby.database.classpath</code>.</p>

<!-- *********************************** -->

<h2><a name="creating_stored_procedure_mysql" id="creating_stored_procedure_mysql">Creating Stored Procedure in MySQL</a></h2>
<p>Creating and using a stored procedure in Java DB involves the following steps:</p>
<ol>
<li><a href="#create_jdbc_mysql">Create the stored procedure with an SQL script or JDBC API</a></li>
<li>Call the stored procedure with the <code>CALL</code> SQL statement. See the section <a href="#calling_javadb_mysql">Calling Stored Procedures in Java DB and MySQL</a></li>
</ol>
<!-- *********************************** -->
<h3><a name="create_jdbc_mysql" id="create_jdbc_mysql">Creating Stored Procedure in MySQL with SQL Scripts or JDBC API</a></h3>
<p>MySQL uses a SQL-based syntax for its stored procedures. The following excerpt from the SQL script <code><a href="gettingstarted.html">mysql/create-procedures.sql</a></code> creates a stored procedure named <code>SHOW_SUPPLIERS</code>:</p>
<div class="codeblock"><pre>
SELECT 'Dropping procedure SHOW_SUPPLIERS' AS ' '|
drop procedure if exists SHOW_SUPPLIERS|

# ...

SELECT 'Creating procedure SHOW_SUPPLIERS' AS ' '|
create procedure SHOW_SUPPLIERS()
    begin
        select SUPPLIERS.SUP_NAME,
        COFFEES.COF_NAME
        from SUPPLIERS, COFFEES
        where SUPPLIERS.SUP_ID = COFFEES.SUP_ID
        order by SUP_NAME;
    end|
</pre></div>
<p>The <code>DROP PROCEDURE</code> statement deletes that procedure <code>SHOW_SUPPLIERS</code> if it exists. In MySQL, statements in a stored procedure are separated by semicolons. However, a different delimiter is required to end the <code>create procedure</code> statement. This example uses the pipe (<code>|</code>) character; you can use another character (or more than one character). This character that separates statements is defined in the <code>delimiter</code> attribute in the Ant target that calls this script. This excerpt is from the Ant build file <code><a href="gettingstarted.html">build.xml</a></code> (line breaks have been inserted for clarity):</p>

<div class="codeblock"><pre>
&lt;target name="mysql-create-procedure"&gt;

  &lt;sql driver="${DB.DRIVER}"
       url="${DB.URL}" userid="${DB.USER}"
       password="${DB.PASSWORD}"
       classpathref="CLASSPATH"
       print="true"
       <strong>delimiter="|"</strong>
       autocommit="false"
       onerror="abort"&gt;
       &lt;transaction
         src="./sql/${DB.VENDOR}/
           create-procedures.sql"&gt;
       &lt;/transaction&gt;
  &lt;/sql&gt;

&lt;/target&gt;
</pre></div>

<p>Alternatively, you can use the <code>DELIMITER</code> SQL statement to specify a different delimiter character.</p>
<p>The <code>CREATE PROCEDURE</code> statement consists of the name of the procedure, a comma-separated list of parameters in parentheses, and SQL statements within the <code>BEGIN</code> and <code>END</code> keywords.</p>
<p>You can use the JDBC API to create a stored procedure. The following method, <code><a href="gettingstarted.html">StoredProcedureMySQLSample.createProcedureShowSuppliers</a></code>, performs the same tasks as the previous script:</p>

<div class="codeblock"><pre>
  public void createProcedureShowSuppliers() throws SQLException {
    
    String queryDrop = "DROP PROCEDURE IF EXISTS SHOW_SUPPLIERS";

    String createProcedure =
        "create procedure SHOW_SUPPLIERS() " +
          "begin " +
            "select SUPPLIERS.SUP_NAME, COFFEES.COF_NAME " +
              "from SUPPLIERS, COFFEES " +
              "where SUPPLIERS.SUP_ID = COFFEES.SUP_ID " +
              "order by SUP_NAME; " +
          "end";

    try (Statement stmtDrop = con.createStatement()) {
      System.out.println("Calling DROP PROCEDURE");
      stmtDrop.execute(queryDrop);
    } catch (SQLException e) {
      JDBCTutorialUtilities.printSQLException(e);
    } 

    try (Statement stmt = con.createStatement()) {
      stmt.executeUpdate(createProcedure);
    } catch (SQLException e) {
      JDBCTutorialUtilities.printSQLException(e);
    }
  }
</pre></div>
<p>Note that the delimiter has not been changed in this method.</p>
<p>The stored procedure <code>SHOW_SUPPLIERS</code> generates a result set, even though the return type of the method <code>createProcedureShowSuppliers</code> is <code>void</code> and the method does not contain any parameters. A result set is returned when the stored procedure <code>SHOW_SUPPLIERS</code> is called with the method <code>CallableStatement.executeQuery</code>:</p>
<div class="codeblock"><pre>
CallableStatement cs = null;
cs = this.con.prepareCall("{call SHOW_SUPPLIERS}");
ResultSet rs = cs.executeQuery();
</pre></div>
<p>The following excerpt from the method <code><a href="gettingstarted.html">StoredProcedureMySQLSample.createProcedureGetSupplierOfCoffee</a></code> contains the SQL query that creates a stored procedure named <code>GET_SUPPLIER_OF_COFFEE</code>:</p>
<div class="codeblock"><pre>
  public void createProcedureGetSupplierOfCoffee() throws SQLException {

    String queryDrop = "DROP PROCEDURE IF EXISTS GET_SUPPLIER_OF_COFFEE";

    String createProcedure =
        "create procedure GET_SUPPLIER_OF_COFFEE(IN coffeeName varchar(32), OUT supplierName varchar(40)) " +
          "begin " +
            "select SUPPLIERS.SUP_NAME into supplierName " +
              "from SUPPLIERS, COFFEES " +
              "where SUPPLIERS.SUP_ID = COFFEES.SUP_ID " +
              "and coffeeName = COFFEES.COF_NAME; " +
            "select supplierName; " +
          "end";

    try (Statement stmtDrop = con.createStatement()) {
      System.out.println("Calling DROP PROCEDURE");
      stmtDrop.execute(queryDrop);
    } catch (SQLException e) {
      JDBCTutorialUtilities.printSQLException(e);
    }

    try (Statement stmt = con.createStatement()) {
      stmt.executeUpdate(createProcedure);
    } catch (SQLException e) {
      JDBCTutorialUtilities.printSQLException(e);
    }
  }
</pre></div>
<p>This stored procedure has two formal parameters, <code>coffeeName</code> and <code>supplierName</code>. The parameter specifiers <code>IN</code> and <code>OUT</code> are called parameter modes. They define the action of formal parameters. See <a href="#parameter_modes">Parameter Modes</a> for more information. The formal parameters are defined in the SQL query, not in the method <code>createProcedureGetSupplierOfCoffee</code>. To assign a value to the <code>OUT</code> parameter <code>supplierName</code>, this stored procedure uses a <code>SELECT</code> statement.</p>
<p>The following excerpt from the method <code><a href="gettingstarted.html">StoredProcedureMySQLSample.createProcedureRaisePrice</a></code> contains the SQL query that creates a stored procedure named <code>RAISE_PRICE</code>:</p>
<div class="codeblock"><pre>
  public void createProcedureRaisePrice() throws SQLException {
    
    String queryDrop = "DROP PROCEDURE IF EXISTS RAISE_PRICE";

    String createProcedure =
        "create procedure RAISE_PRICE(IN coffeeName varchar(32), IN maximumPercentage float, INOUT newPrice numeric(10,2)) " +
          "begin " +
            "main: BEGIN " +
              "declare maximumNewPrice numeric(10,2); " +
              "declare oldPrice numeric(10,2); " +
              "select COFFEES.PRICE into oldPrice " +
                "from COFFEES " +
                "where COFFEES.COF_NAME = coffeeName; " +
              "set maximumNewPrice = oldPrice * (1 + maximumPercentage); " +
              "if (newPrice > maximumNewPrice) " +
                "then set newPrice = maximumNewPrice; " +
              "end if; " +
              "if (newPrice &lt;= oldPrice) " +
                "then set newPrice = oldPrice;" +
                "leave main; " +
              "end if; " +
              "update COFFEES " +
                "set COFFEES.PRICE = newPrice " +
                "where COFFEES.COF_NAME = coffeeName; " +
              "select newPrice; " +
            "END main; " +
          "end";

    try (Statement stmtDrop = con.createStatement()) {
      System.out.println("Calling DROP PROCEDURE");
      stmtDrop.execute(queryDrop);
    } catch (SQLException e) {
      JDBCTutorialUtilities.printSQLException(e);
    }

    try (Statement stmt = con.createStatement()) {
      stmt.executeUpdate(createProcedure);
    } catch (SQLException e) {
      JDBCTutorialUtilities.printSQLException(e);
    }
  }
</pre></div>

<p>The stored procedure assigns a value to the <code>INOUT</code> parameter <code>newPrice</code> with the <code>SET</code> and <code>SELECT</code> statements. To exit the stored procedure, the stored procedure first encloses the statements in a <code>BEGIN ... END</code> block labeled <code>main</code>. To exit the procedure, the method uses the statement <code>leave main</code>.</p>
<!-- ====================================== -->
<h2><a name="calling_javadb_mysql" id="calling_javadb_mysql">Calling Stored Procedures in Java DB and MySQL</a></h2>
<p>The following excerpt from the method <code><a href="gettingstarted.html">runStoredProcedures</a></code>, calls the stored procedure <code>SHOW_SUPPLIERS</code> and prints the generated result set:</p>

<div class="codeblock"><pre>
cs = this.con.prepareCall("{call SHOW_SUPPLIERS()}");
ResultSet rs = cs.executeQuery();

while (rs.next()) {
    String supplier = rs.getString("SUP_NAME");
    String coffee = rs.getString("COF_NAME");
    System.out.println(supplier + ": " + coffee);
}
</pre></div>

<p><strong>Note</strong>: As with <code>Statement</code> objects, to call the stored procedure, you can call <code>execute</code>, <code>executeQuery</code>, or <code>executeUpdate</code> depending on how many <code>ResultSet</code> objects the procedure returns. However, if you are not sure how many <code>ResultSet</code> objects the procedure returns, call <code>execute</code>.</p>
<p>Calling the stored procedure <code>SHOW_SUPPLIERS</code> is demonstrated in the section <a href="#create_jdbc_mysql">Creating Stored Procedure with JDBC API in MySQL</a>.</p>
<p>The following excerpt from method <code><a href="gettingstarted.html">runStoredProcedures</a></code>, calls the stored procedure <code>GET_SUPPLIER_OF_COFFEE</code>:</p>

<div class="codeblock"><pre>
cs = this.con.prepareCall("{call GET_SUPPLIER_OF_COFFEE(?, ?)}");
cs.setString(1, coffeeNameArg);
cs.registerOutParameter(2, Types.VARCHAR);
cs.executeQuery();

String supplierName = cs.getString(2);
</pre></div>

<p>The interface <code>CallableStatement</code> extends <code>PreparedStatement</code>. It is used to call stored procedures. Specify values for <code>IN</code> parameters (such as <code>coffeeName</code> in this example) just like you would with a <code>PreparedStatement</code> object by calling the appropriate setter method. However, if a stored procedure contains an <code>OUT</code> parameter, you must register it with the <code>registerOutParameter</code> method.</p>
<p>The following excerpt from the method <code><a href="gettingstarted.html">runStoredProcedures</a></code>, calls the stored procedure <code>RAISE_PRICE</code>:</p>

<div class="codeblock"><pre>
cs = this.con.prepareCall("{call RAISE_PRICE(?,?,?)}");
cs.setString(1, coffeeNameArg);
cs.setFloat(2, maximumPercentageArg);
cs.registerOutParameter(3, Types.NUMERIC);
cs.setFloat(3, newPriceArg);

cs.execute();
</pre></div>

<p>Because the parameter <code>newPrice</code> (the third parameter in the procedure <code>RAISE_PRICE</code>) has the parameter mode <code>INOUT</code>, you must both specify its value by calling the appropriate setter method and register it with the <code>registerOutParameter</code> method.</p>

        </div>
        <div class="NavBit">
            <a target="_top" href="sqlrowid.html">&laquo; Previous</a>
            &bull;
            <a target="_top" href="../TOC.html">Trail</a>
            &bull;
            <a target="_top" href="jdbcswing.html">Next &raquo;</a>
        </div>
    </div>
    
<hr class="clearfloat"/>

<div id="Footer">

<p class="footertext">
<a href="http://www.oracle.com/corporate/index.html">About Oracle</a> | 
<a href="http://www.oracle.com/us/corporate/contact/index.html">Contact Us</a> |
<a href="http://www.oracle.com/us/legal/index.html">Legal Notices</a> | 
<a href="http://www.oracle.com/us/legal/terms/index.html">Terms of Use</a> |
<a href="http://www.oracle.com/us/legal/privacy/index.html">Your Privacy Rights</a></p>

<p class="footertext"><a href="http://www.oracle.com/pls/topic/lookup?ctx=cpyr&id=en-US">
Copyright &copy; 1995, 2020 Oracle and/or its affiliates. All rights reserved.</a></p>
       
</div>    
    <div class="PrintHeaders">
        <b>Previous page:</b> Using RowId Objects
        <br /><b>Next page:</b> Using JDBC with GUI API
    </div>
</body>
</html> 
