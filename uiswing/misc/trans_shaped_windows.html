<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    

<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>How to Create Translucent and Shaped Windows (The Java&trade; Tutorials &gt;        
            Creating a GUI With JFC/Swing &gt; Using Other Swing Features)
</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
     <meta name="description" content="This Swing Java Tutorial describes developing graphical user interfaces (GUIs) for applications and applets using Swing components" />
     <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface, swing components, swing events, swing layout  " />
        
<style type="text/css">
    body {
        margin-left:10px;
        margin-right:10px;
        line-height: 1.5;
        FONT-FAMILY: Arial, Helvetica, sans-serif; 
        font-size: 0.8em;
    }
    
    a:link{text-decoration:none; color:#09569d;}
    a:visited{text-decoration:none; color: #3a87cf;}
    a:hover{text-decoration:underline; }
        
    code{
        font-family:Monaco,Courier,"Courier New";
    }
    
    .header-container {
        background-color: #fff;
        border-bottom: 1px solid #C1CFDA;
        -webkit-box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
        box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
    }
    
    .bookwrapper {
        width: auto;
        margin: auto;
    }
    
    .clearfix {
    }
    
    .clearfloat {
        clear: both;
        overflow: auto;
        height: 0px;
        font-size: 1px;
        line-height: 0px;
    }
    
    #brandProdName {
        width: auto;
        height: auto;
    }
    
    #logocover {
        display: block;
        background: transparent url(../../images/oracle-java-logo.png) 0px 0px no-repeat;
        height: 50px;
        width: 229px;
        float: left;
    }
    
    #productName {
        font-size: 16px;
        position: relative;
        top: 19px;
        padding-left: 3px;
        color: #457798;
        white-space: nowrap;
        width: 340px;
    }


    .FigureCaption   { 
        font-family: sans-serif; 
        text-align: center;
    }
    
    #TopBar_bl {        
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        margin-left: -110px;
        margin-right: -100px;       
		align: left;
        height: 60px;
    }
    #TopBar_tr {
        width: 100%;
        height: 60px;
    }
    
    #TopBar {
        min-width:700px;
        padding:25px 100px 10px;
        margin-bottom:25px;
        clear:both;
        
        border-bottom:1px solid #d2dde5;
        border-radius: 3px;
    
        background:#efefef; /* Old browsers */
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlMmVmZjkiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
        background: -moz-linear-gradient(top,  #ffffff 0%, #e2eff9 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e2eff9)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* IE10+ */
        background: linear-gradient(to bottom,  #ffffff 0%,#e2eff9 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e2eff9',GradientType=0 ); /* IE6-8 */
        
    }
    
    #TopBar_left {
        line-height: 14px;
        position: absolute;
        padding-top: 30px;
        padding-right: 30px;
        padding-left: 30px;
        text-align: left;
        font: 13px/20px Arial, Helvetica, sans-serif;
        font-weight: bold;
        font-size: 20px;
        color: #333;
    }
    
    #TopBar_right {
        line-height: 12px;
        float: right;
        padding-top: 10px;
        padding-right: 30px;
        text-align: left;
    }
    

    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    
     
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 10px;
        margin: 3px;
        padding: 0;
    }
 
    #BreadCrumbs {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    
    #BreadCrumbs a {
        color:#09569d;
    }
    
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }
    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    
    .LeftBar_shown {
        width: 13em;
        float: left;
    }
    
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    
    .LeftBar_hidden {
        display: none;
    }
    
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;       
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }

    .NavBit  {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    
    @media print {
        .NavBit {
            display: none;
        }
    }
    
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    
    #Contents a, .NavBit a, #TagNotes a {
        color:#09569d;
    }
    
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em;
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #333;
		
		
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
	
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #333;
        
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
		font-size:12px;
		font-family:Monaco,Courier,"Courier New";
    }
    
    .tocli {
        list-style-type:none;
    }

    .betadraft {
        color: red;
    }

</style>
<script type="text/javascript">
/* <![CDATA[ */
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }

    function showCode(displayCodePage, codePath) {
        var codePathEls = codePath.split("/");
        var currDocPathEls = location.href.split("/");
        //alert ("codePathEls = " + codePathEls + "\n" + "currDocPathEls = " + currDocPathEls);
        currDocPathEls.pop(); // remove file name at the end
        while (codePathEls.length > 0) {
            if (codePathEls[0] == "..") {
                codePathEls.shift();
                currDocPathEls.pop();
            } else {
                break;
            }
        }
        var fullCodePath = currDocPathEls.join("/") + "/" + codePathEls.join("/");
        //alert ("fullCodePath = " + fullCodePath );
        if (codePath.indexOf(".java") != -1 || codePath.indexOf(".jnlp") != -1) {
            window.location.href = displayCodePage + "?code=" + encodeURI(fullCodePath);
        } else {
            window.location.href = fullCodePath;
        }
    }
/* ]]> */    
</script>


    </head>
<body onload="load()">
    <noscript>
        A browser with JavaScript enabled is required for this page to operate properly.
    </noscript>
        <!-- header -->
    <div class="header-container">
        <div class="bookwrapper  clearfix">       
            <div id="brandProdName">
                <div id="logocover"></div>
                <div id="productName" >Documentation</div>
            </div> 
            <br class="clearfloat" />
        </div>
    </div>
    
    <div id="TopBar">
        <div id="TopBar_tr">
            <div id="TopBar_tl">
                <div id="TopBar_br"> <div id="TopBar_bl"> 
                    <div id="TopBar_left">The Java&trade; Tutorials</div>
                        <div id="TopBar_right"> 
                            <!--
                            <a href="URL" target="_blank">External Link</a><br/>
                            -->

<script type="text/javascript">function search() { var sform = document.getElementById("searchForm"); var srchelem = document.getElementById("searchField"); var srchelemreal = document.getElementById("keywordreal"); var srchval = srchelem.value; if (srchval.length == 0) { return false; } srchelemreal.value = srchval; sform.action = "http://docs.oracle.com/apps/search/search.jsp"; sform.method = "get"; sform.target = "_blank"; sform.submit(); }</script><form id="searchForm" onsubmit="return search()"><input type="hidden" name="category" value="java"/><input type="hidden" name="product" value="e25407-01"/><input type="hidden" name="q" value="" id="keywordreal"/><label for="searchField"><input type="text" id="searchField" size="30" onclick="this.value='';" /></label><input type="submit" value="Search" /></form>
              
                            <a href="javascript:toggleLeft()" id="ToggleLeft">Hide TOC</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="LeftBar" class="LeftBar_shown">
        <div id="Contents">
            <div class="linkLESSON"><a href="index.html">Using Other Swing Features</a></div>
<div class="linkAHEAD"><a href="desktop.html">How to Integrate with the Desktop Class</a></div>
<div class="nolinkAHEAD">How to Create Translucent and Shaped Windows</div>
<div class="linkAHEAD"><a href="jlayer.html">How to Decorate Components with the JLayer Class</a></div>
<div class="linkAHEAD"><a href="action.html">How to Use Actions</a></div>
<div class="linkAHEAD"><a href="timer.html">How to Use Swing Timers</a></div>
<div class="linkAHEAD"><a href="access.html">How to Support Assistive Technologies</a></div>
<div class="linkAHEAD"><a href="focus.html">How to Use the Focus Subsystem</a></div>
<div class="linkAHEAD"><a href="keybinding.html">How to Use Key Bindings</a></div>
<div class="linkAHEAD"><a href="modality.html">How to Use Modality in Dialogs</a></div>
<div class="linkAHEAD"><a href="printtable.html">How to Print Tables</a></div>
<div class="linkAHEAD"><a href="printtext.html">How to Print Text</a></div>
<div class="linkAHEAD"><a href="splashscreen.html">How to Create a Splash Screen</a></div>
<div class="linkAHEAD"><a href="systemtray.html">How to Use the System Tray</a></div>
<div class="linkAHEAD"><a href="problems.html">Solving Common Problems Using Other Swing Features</a></div>
</div>
    </div>
    <div id="MainFlow" class="MainFlow_indented">
    <div class="PrintHeaders">
        <b>Trail:</b> Creating a GUI With JFC/Swing
        <br /><b>Lesson:</b> Using Other Swing Features
    </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">Home Page</a>
                &gt;
                <a href="../index.html" target="_top">Creating a GUI With JFC/Swing</a>
                &gt;
                <a href="index.html" target="_top">Using Other Swing Features</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="desktop.html">&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target="_top" href="../TOC.html">Trail</a>&nbsp;&bull;&nbsp;<a target="_top" href="jlayer.html">Next&nbsp;&raquo;</a>
            </div>
            <div class="Banner"><p style="background-color: rgb(247, 248, 249); border-width: 1px; padding: 10px; font-style: italic; border-style: solid; border-color: rgb(64, 74, 91);">The Java Tutorials have been written for JDK 8. Examples and practices described in this page don't take advantage of improvements introduced in later releases and might use technology no longer available.<br/>See <a href="https://docs.oracle.com/pls/topic/lookup?ctx=en/java/javase&id=java_language_changes">Java Language Changes</a> for a summary of updated language features in Java SE 9 and subsequent releases.<br/>See <a href="https://www.oracle.com/technetwork/java/javase/jdk-relnotes-index-2162236.html">JDK Release Notes</a> for information about new features, enhancements, and removed or deprecated options for all JDK releases.</p></div>
            <div id="PageTitle"><h1>How to Create Translucent and Shaped Windows</h1></div>
            <div id="PageContent">

<!-- How to Create Translucent and Shaped Windows -->
<p>As of the Java Platform, Standard Edition 6 (Java SE 6) Update 10 release, you can add translucent and shaped windows to your Swing applications. This page covers the following topics:</p>
<ul>
<li><a href="#supported">Supported Capabilities</a></li>
<li><a href="#capability">Determining a Platform&#39;s Capabilities</a></li>
<li><a href="#uniform">How to Implement Uniform Translucency</a></li>
<li><a href="#per-pixel">How to Implement Per-Pixel Translucency</a></li>
<li><a href="#shaped">How to Implement a Shaped Window</a></li>
<li><a href="#6u10">Java SE Release 6 Update 10 API</a></li>
</ul>

<!-- ====================================================== -->
<h2><a name="supported" id="supported">Supported Capabilities</a></h2>
<p>This functionality, which is part of the public AWT package in the JDK 7 release, takes three forms, as follows:</p>
<ul>
<li>You can create a window with <em>uniform</em> translucency, where each pixel has the same translucency (or alpha) value. The following screen capture shows a window with 45 percent translucency.
<center><img src="../../figures/uiswing/misc/TranslucentWindow.png" width="331" height="225" align="bottom" alt="A translucent window" /></center>
<!-- ************************ -->

<div class="note"><hr /><strong>Try this:</strong>&nbsp;<p>Click the Launch button to run the TranslucentWindowDemo example using
<a class="OutsideLink" target="_blank" href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">Java&trade; Web Start</a>. This example requires <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK 7</a> or later. Alternatively, to compile and run the example yourself, consult the <a href="../examples/misc/index.html#TranslucentWindowDemo">example index</a>.</p>
<a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/TranslucentWindowDemoProject/TranslucentWindowDemo.jnlp"><img src="../../images/jws-launch-button.png" width="88" height="23" align="bottom" alt="Launches the TranslucentWindowDemo example" /></a>
<hr /></div>

<!-- ************************ -->


</li>
<li>You can create a window with <em>per-pixel</em> translucency, where each pixel has its own alpha value. With this feature you can, for example, create a window that fades away to nothing by defining a gradient in the alpha values. The following screen capture shows a window with gradient translucency from the top (fully translucent) to the bottom (fully opaque).
<center><img src="../../figures/uiswing/misc/GradientWindow.png" width="333" height="222" align="bottom" alt="A window with per-pixel translucency." /></center>
<!-- ************************ -->

<div class="note"><hr /><strong>Try this:</strong>&nbsp;<p>Click the Launch button to run the GradientTranslucentWindowDemo example using
<a class="OutsideLink" target="_blank" href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">Java&trade; Web Start</a>. This example requires <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK 7</a> or later. Alternatively, to compile and run the example yourself, consult the <a href="../examples/misc/index.html#GradientTranslucentWindowDemo">example index</a>.</p>
<a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/GradientTranslucentWindowDemoProject/GradientTranslucentWindowDemo.jnlp"><img src="../../images/jws-launch-button.png" width="88" height="23" align="bottom" alt="Launches the GradientTranslucentWindowDemo example" /></a>
<hr /></div>

<!-- ************************ -->


</li>


<li>You can create a window with any <code>Shape</code> object that you can define. Shaped windows can be opaque, or they can use uniform, or per-pixel, translucency. The following screen capture shows an oval-shaped window with 30 percent translucency.
<center><img src="../../figures/uiswing/misc/ShapedWindow.png" width="339" height="229" align="bottom" alt="A oval-shaped window." /></center>
<!-- ************************ -->

<div class="note"><hr /><strong>Try this:</strong>&nbsp;<p>Click the Launch button to run the ShapedWindowDemo example using
<a class="OutsideLink" target="_blank" href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">Java&trade; Web Start</a>. This example requires <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK 7</a> or later. Alternatively, to compile and run the example yourself, consult the <a href="../examples/misc/index.html#ShapedWindowDemo">example index</a>.</p>
<a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/ShapedWindowDemoProject/ShapedWindowDemo.jnlp"><img src="../../images/jws-launch-button.png" width="88" height="23" align="bottom" alt="Launches the ShapedWindowDemo example" /></a>
<hr /></div>

<!-- ************************ -->


</li>

</ul>

<!-- ====================================================== -->
<h2><a name="capability" id="capability">Determining a Platform&#39;s Capabilities</a></h2>
Not all platforms support all of these capabilities. An <code>UnsupportedOperationException</code> exception is thrown when code attempts to invoke the <code>setShape</code> or <code>setOpacity</code> methods on a platform that does not support these capabilities. Therefore, it is best practice to first check that the platform supports the capability that you want to implement. The <code>GraphicsDevice</code> class provides the 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/awt/GraphicsDevice.html#isWindowTranslucencySupported-java.awt.GraphicsDevice.WindowTranslucency-"><code>isWindowTranslucencySupported(GraphicsDevice.WindowTranslucency)</code></a> method that you can use for this purpose. You pass one of three enum values, defined in 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/awt/GraphicsDevice.WindowTranslucency.html"><code>GraphicsDevice.WindowTranslucency</code></a>, to this method:
<ul>
<li><code>TRANSLUCENT</code> &ndash; The underlying platform supports windows with uniform translucency, where each pixel has the same alpha value.</li>
<li><code>PERPIXEL_TRANSLUCENT</code> &ndash; The underlying platform supports windows with per-pixel translucency. This capability is required to implement windows that fade away.</li>
<li><code>PERPIXEL_TRANSPARENT</code> &ndash; The underlying platform supports shaped windows.</li>
</ul>
The <code>GraphicsConfiguration</code> class also provides the 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/awt/GraphicsConfiguration.html#isTranslucencyCapable--"><code>isTranslucencyCapable</code></a> method to determine if <code>PERPIXEL_TRANSLUCENT</code> translucency is supported by the given <code>GraphicsConfiguration</code> object.
<div class="note"><hr /><strong>Version note:</strong>&nbsp;The translucent and shaped window API was first added to the Java SE 6 Update 10 release as a private API. This functionality was moved to the public AWT package in the JDK 7 release. This tutorial describes the API that is available in the JDK 7 release. See 
<a class="TutorialLink" target="_top" href="#6u10">Java SE 6 Update 10 API</a> for a mapping of the private API in the Java SE 6 Update 10 release to the public API in the JDK 7 release.
<hr /></div>
The following code shows how to check for all three capabilities:
<div class="codeblock"><pre>
import static java.awt.GraphicsDevice.WindowTranslucency.*;

// Determine what the default GraphicsDevice can support.
GraphicsEnvironment ge =
    GraphicsEnvironment.getLocalGraphicsEnvironment();
GraphicsDevice gd = ge.getDefaultScreenDevice();

boolean isUniformTranslucencySupported =
    gd.isWindowTranslucencySupported(TRANSLUCENT);
boolean isPerPixelTranslucencySupported =
    gd.isWindowTranslucencySupported(PERPIXEL_TRANSLUCENT);
boolean isShapedWindowSupported =
    gd.isWindowTranslucencySupported(PERPIXEL_TRANSPARENT);
</pre></div>
<div class="note"><hr /><strong>Note:</strong>&nbsp;None of these capabilities work on windows in full-screen mode. Invoking any of the relevant methods while in full-screen mode causes an <code>IllegalComponentStateException</code> exception to be thrown.
<hr /></div>

<!-- ====================================================== -->
<h2><a name="uniform" id="uniform">How to Implement Uniform Translucency</a></h2>
You can create a window where each pixel has the same translucency by invoking the 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#setOpacity-float-"><code>setOpacity(float)</code></a> method in the <code>Window</code> class. The <code>float</code> argument passed to this method represents the translucency of the window and should be a value between 0 and 1, inclusive. The smaller the number, the more transparent the window. There is also a corresponding 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#getOpacity--"><code>getOpacity</code></a> method.
<p>The
<a class="SourceLink" target="_blank" href="../examples/misc/TranslucentWindowDemoProject/src/misc/TranslucentWindowDemo.java" onclick="showCode('../../displayCode.html', '../examples/misc/TranslucentWindowDemoProject/src/misc/TranslucentWindowDemo.java'); return false;"><code><code>TranslucentWindowDemo.java</code></code></a> example creates a window that is 55 percent opaque (45 percent translucent). If the underlying platform does not support translucent windows, the example exits. The code relating to opacity is shown in bold.</p>
<div class="codeblock"><pre>
import java.awt.*;
import javax.swing.*;
import static java.awt.GraphicsDevice.WindowTranslucency.*;

public class TranslucentWindowDemo extends JFrame {
    public TranslucentWindowDemo() {
        super("TranslucentWindow");
        setLayout(new GridBagLayout());

        setSize(300,200);
        setLocationRelativeTo(null);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        //Add a sample button.
        add(new JButton("I am a Button"));
    }

    public static void main(String[] args) {
        // Determine if the GraphicsDevice supports translucency.
        <b>GraphicsEnvironment ge = 
            GraphicsEnvironment.getLocalGraphicsEnvironment();
        GraphicsDevice gd = ge.getDefaultScreenDevice();</b>

        //If translucent windows aren't supported, exit.
        <b>if (!gd.isWindowTranslucencySupported(TRANSLUCENT)) {
            System.err.println(
                "Translucency is not supported");
                System.exit(0);
        }</b>
        
        JFrame.setDefaultLookAndFeelDecorated(true);

        // Create the GUI on the event-dispatching thread
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                TranslucentWindowDemo tw = new TranslucentWindowDemo();

                // Set the window to 55% opaque (45% translucent).
                <b>tw.setOpacity(0.55f);</b>

                // Display the window.
                tw.setVisible(true);
            }
        });
    }
}
</pre></div>
<p>Note that the button is also affected by the uniform translucency. Setting the opacity affects the whole window, including any components that the window contains.</p>

<!-- ====================================================== -->
<h2><a name="per-pixel" id="per-pixel">How to Implement Per-Pixel Translucency</a></h2>
Creating a window that uses per-pixel translucency involves defining alpha values over the rectangular area that the window occupies. When a pixel&#39;s alpha value is zero, that pixel is fully transparent. When a pixel&#39;s alpha value is 255, that pixel is fully opaque. When a pixel&#39;s alpha value is 128, that pixel is 50 percent translucent, and so on. An easy way to create a smooth interpolation between alpha values is to use the 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/awt/GradientPaint.html"><code>GradientPaint</code></a> class. The included example uses this approach.
<p>Invoking 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#setBackground-java.awt.Color-"><code>setBackground(new Color(0,0,0,0))</code></a> on the window causes the software to use the alpha values to render per-pixel translucency. In fact, invoking <code>setBackground(new Color(0,0,0,alpha)</code>, where <code>alpha</code> is less than 255, installs per-pixel transparency. So, if you invoke <code>setBackground(new Color(0,0,0,128))</code> and do nothing else, the window is rendered with 50 percent translucency for each background pixel. However, if you are creating your own range of alpha values, you most likely will want an alpha value of 0.</p>
<p>While not prohibited by the public API, you will generally want to enable per-pixel translucency on undecorated windows. In most cases, using per-pixel translucency on decorated windows does not make sense. Doing so can disable the decorations, or cause other platform-dependent side effects.</p>
<p>To determine if a window is using per-pixel translucency, you can use the 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#isOpaque--"><code>isOpaque</code></a> method.</p>
<p>An example follows. First, here are the steps required to implement the example:</p>
<ol>
<li>Invoke <code>setBackground(new Color(0,0,0,0))</code> on the window.</li>
<li>Create a <code>JPanel</code> instance that overrides the <code>paintComponent</code> method.</li>
<li>In the <code>paintComponent</code> method, create a <code>GradientPaint</code> instance.</li>
<li>In the example, the top of the rectangle has an alpha value of 0 (the most transparent) and the bottom has an alpha value of 255 (the most opaque). The <code>GradientPaint</code> class smoothly interpolates the alpha values from the top to the bottom of the rectangle.</li>
<li>Set the <code>GradientPaint</code> instance as the panel&#39;s paint method.</li>
</ol>
<p>Here is the code for the
<a class="SourceLink" target="_blank" href="../examples/misc/GradientTranslucentWindowDemoProject/src/misc/GradientTranslucentWindowDemo.java" onclick="showCode('../../displayCode.html', '../examples/misc/GradientTranslucentWindowDemoProject/src/misc/GradientTranslucentWindowDemo.java'); return false;"><code><code>GradientTranslucentWindowDemo.java</code></code></a> example. If the underlying platform does not support per-pixel translucency, this example exits. The code specifically relating to creating the gradient window is shown in bold.</p>
<div class="codeblock"><pre>
import java.awt.*;
import javax.swing.*;
import static java.awt.GraphicsDevice.WindowTranslucency.*;

public class GradientTranslucentWindowDemo extends JFrame {
    public GradientTranslucentWindowDemo() {
        super("GradientTranslucentWindow");

        <b>setBackground(new Color(0,0,0,0));</b>
        setSize(new Dimension(300,200));
        setLocationRelativeTo(null);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        <b>JPanel panel = new JPanel() {</b>
            <b>@Override
            protected void paintComponent(Graphics g) {
                if (g instanceof Graphics2D) {
                    final int R = 240;
                    final int G = 240;
                    final int B = 240;

                    Paint p =
                        new GradientPaint(0.0f, 0.0f, new Color(R, G, B, 0),
                            0.0f, getHeight(), new Color(R, G, B, 255), true);
                    Graphics2D g2d = (Graphics2D)g;
                    g2d.setPaint(p);
                    g2d.fillRect(0, 0, getWidth(), getHeight());
                }
            }
        };</b>
        setContentPane(panel);
        setLayout(new GridBagLayout());
        add(new JButton("I am a Button"));
    }

    public static void main(String[] args) {
        // Determine what the GraphicsDevice can support.
        <b>GraphicsEnvironment ge = 
            GraphicsEnvironment.getLocalGraphicsEnvironment();
        GraphicsDevice gd = ge.getDefaultScreenDevice();</b>
        boolean isPerPixelTranslucencySupported = 
            gd.isWindowTranslucencySupported(PERPIXEL_TRANSLUCENT);

        //If translucent windows aren't supported, exit.
        <b>if (!isPerPixelTranslucencySupported) {
            System.out.println(
                "Per-pixel translucency is not supported");
                System.exit(0);
        }</b>

        JFrame.setDefaultLookAndFeelDecorated(true);

        // Create the GUI on the event-dispatching thread
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                GradientTranslucentWindowDemo gtw = new
                    GradientTranslucentWindowDemo();

                // Display the window.
                gtw.setVisible(true);
            }
        });
    }
}
</pre></div>
<p>Note that the button is not affected by the per-pixel translucency. Setting the per-pixel translucency affects the background pixels only. If you want a window that has a uniformly translucent effect on the background pixels only, you can invoke <code>setBackground(new Color(0,0,0,alpha))</code> where <code>alpha</code> specifies your desired translucency.</p>

<!-- ====================================================== -->
<h2><a name="shaped" id="shaped">How to Implement a Shaped Window</a></h2>
You can create a shaped window by invoking the 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#setShape-java.awt.Shape-"><code>setShape(Shape)</code></a> method in the <code>Window</code> class. The <code>Shape</code> argument that is passed to the method determines how the window is clipped. When a shape is set on a window, the window decorations are not re-formed to the new shape, so setting a shape works best on undecorated windows.
<p>The best practice for setting the window&#39;s shape is to invoke <code>setShape</code> in the <code>componentResized</code> method of the component event listener. This practice will ensure that the shape is correctly calculated for the actual size of the window. The following example uses this approach.</p>
<p>The
<a class="SourceLink" target="_blank" href="../examples/misc/ShapedWindowDemoProject/src/misc/ShapedWindowDemo.java" onclick="showCode('../../displayCode.html', '../examples/misc/ShapedWindowDemoProject/src/misc/ShapedWindowDemo.java'); return false;"><code><code>ShapedWindowDemo.java</code></code></a> example creates an oval-shaped window with 70 percent opacity. If the underlying platform does not support shaped windows, the example exits. If the underlying platform does not support translucency, the example uses a standard opaque window. You could modify this example to create a shaped window that also uses per-pixel translucency.</p>
<p>The code relating to shaping the window is shown in bold.</p>
<div class="codeblock"><pre>
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import java.awt.geom.Ellipse2D;
import static java.awt.GraphicsDevice.WindowTranslucency.*;

public class ShapedWindowDemo extends JFrame {
    public ShapedWindowDemo() {
        super("ShapedWindow");
        setLayout(new GridBagLayout());

        // It is best practice to set the window's shape in
        // the componentResized method.  Then, if the window
        // changes size, the shape will be correctly recalculated.
        <b>addComponentListener(new ComponentAdapter() {</b>
            // Give the window an elliptical shape.
            // If the window is resized, the shape is recalculated here.
            <b>@Override
            public void componentResized(ComponentEvent e) {
                setShape(new Ellipse2D.Double(0,0,getWidth(),getHeight()));
            }
        });</b>

        <b>setUndecorated(true);</b>
        setSize(300,200);
        setLocationRelativeTo(null);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        add(new JButton("I am a Button"));
    }

    public static void main(String[] args) {
        // Determine what the GraphicsDevice can support.
        <b>GraphicsEnvironment ge = 
            GraphicsEnvironment.getLocalGraphicsEnvironment();
        GraphicsDevice gd = ge.getDefaultScreenDevice();</b>
        final boolean isTranslucencySupported = 
            gd.isWindowTranslucencySupported(TRANSLUCENT);

        //If shaped windows aren't supported, exit.
        <b>if (!gd.isWindowTranslucencySupported(PERPIXEL_TRANSPARENT)) {
            System.err.println("Shaped windows are not supported");
            System.exit(0);
        }</b>

        //If translucent windows aren't supported, 
        //create an opaque window.
        if (!isTranslucencySupported) {
            System.out.println(
                "Translucency is not supported, creating an opaque window");
        }

        // Create the GUI on the event-dispatching thread
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                ShapedWindowDemo sw = new ShapedWindowDemo();

                // Set the window to 70% translucency, if supported.
                if (isTranslucencySupported) {
                    sw.setOpacity(0.7f);
                }

                // Display the window.
                sw.setVisible(true);
            }
        });
    }
}
</pre></div>

<!-- ====================================================== -->
<h2><a name="6u10">Java SE 6 Update 10 API</a></h2>
Changing the public API in an update release is not allowed, so when the translucent and shaped windows capability was added to the Java SE 6 Update 10 release, it was implemented in the private <code>com.sun.awt.AWTUtilities</code> class. For the JDK 7 release, this functionality was moved to the public AWT package. The following table shows how the private methods map to the public methods.
<table border="1" summary="This table shows what the translucent and shaped
window functionality in Java SE 6 Update 10 maps in JDK 7.
cellspacing=" cellpadding="0">
<tr>
<th id="h1">Method in Java SE 6 Update 10</th>
<th id="h2">JDK 7 Equivalent</th>
</tr>
<tr>
<td headers="h1"><code>AWTUtilities.isTranslucencySupported(Translucency)</code></td>
<td headers="h2"><code>GraphicsDevice.isWindowTranslucencySupported(WindowTranslucency)</code></td>
</tr>
<tr>
<td headers="h1"><code>AWTUtilities.isTranslucencyCapable(GraphicsConfiguration)</code></td>
<td headers="h2"><code>GraphicsConfiguration.isTranslucencyCapable()</code></td>
</tr>
<tr>
<td headers="h1"><code>AWTUtilities.setWindowOpacity(Window, float)</code></td>
<td headers="h2"><code>Window.setOpacity(float)</code></td>
</tr>
<tr>
<td headers="h1"><code>AWTUtilities.setWindowShape(Window, Shape)</code></td>
<td headers="h2"><code>Window.setShape(Shape)</code></td>
</tr>
<tr>
<td headers="h1"><code>AWTUtilities.setWindowOpaque(boolean)</code></td>
<td headers="h2"><code>Window.setBackground(Color)</code> Passing <code>new Color(0,0,0,alpha)</code> to this method, where <code>alpha</code> is less than 255, installs per-pixel translucency.</td>
</tr>
</table>

        </div>
        <div class="NavBit">
            <a target="_top" href="desktop.html">&laquo; Previous</a>
            &bull;
            <a target="_top" href="../TOC.html">Trail</a>
            &bull;
            <a target="_top" href="jlayer.html">Next &raquo;</a>
        </div>
    </div>
    
<hr class="clearfloat"/>

<div id="Footer">

<p class="footertext">
<a href="http://www.oracle.com/corporate/index.html">About Oracle</a> | 
<a href="http://www.oracle.com/us/corporate/contact/index.html">Contact Us</a> |
<a href="http://www.oracle.com/us/legal/index.html">Legal Notices</a> | 
<a href="http://www.oracle.com/us/legal/terms/index.html">Terms of Use</a> |
<a href="http://www.oracle.com/us/legal/privacy/index.html">Your Privacy Rights</a></p>

<p class="footertext"><a href="http://www.oracle.com/pls/topic/lookup?ctx=cpyr&id=en-US">
Copyright &copy; 1995, 2020 Oracle and/or its affiliates. All rights reserved.</a></p>
       
</div>    
    <div class="PrintHeaders">
        <b>Previous page:</b> How to Integrate with the Desktop Class
        <br /><b>Next page:</b> How to Decorate Components with the JLayer Class
    </div>
</body>
</html> 
